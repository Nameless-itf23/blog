---
import ContentLayout from "@layouts/ContentLayout.astro";
import { getAllTags } from "@utils/postsUtils";
import Nerd from "@components/nerd/Nerd.astro";
import { toDisplayName } from "@components/nerd/NerdUtils";
import { TAG_POSTSLISTPAGE_BASE_URL } from "src/consts";

const tags = await getAllTags();
---

<ContentLayout>
  <div class="content">
    <p class="pageTitle">タグ一覧</p>
    <div class="tagsWrapper">
      <div class="tags">
        {
          tags.map((tag) => (
            <a href={TAG_POSTSLISTPAGE_BASE_URL + tag} class="tag">
              <div class="icon">
                <Nerd iconName={tag} />
              </div>
              <p class="iconName">{toDisplayName(tag)}</p>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</ContentLayout>

<style lang="scss">
  @use "@styles/basePalette.scss";

  .content {
    margin: 60px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 40px;

    & > .pageTitle {
      color: basePalette.$black;
      font-size: 30px;
      font-weight: 600;
    }

    & > .tagsWrapper {
      max-width: 1000px;
      display: flex;
      justify-content: center;

      & > .tags {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        margin: 0 auto;

        & > .tag {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 20px;
          margin: 20px 20px 34px 20px;

          & > .icon {
            width: 90px;
            height: 90px;
            border: 2px solid basePalette.$whiteGray;
            border-radius: 20px;
            background-color: basePalette.$white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 38px;
          }

          & > .iconName {
            color: basePalette.$darkGray;
            font-size: 20px;
            font-weight: 600;
            text-align: center;
          }
        }
      }
    }
  }
</style>
